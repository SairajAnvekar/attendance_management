webpackJsonp([1],{"+Twb":function(e,t){},"+YBA":function(e,t){},"1Jhz":function(e,t,a){"use strict";var n=a("+Twb"),i=a.n(n),s=a("rnCt");var r=function(e){a("JTNu")},l=a("VU/8")(i.a,s.a,!1,r,null,null);t.default=l.exports},"7YQu":function(e,t){},"7zck":function(e,t){},JTNu:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),i={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("v-app",[t("router-view")],1)],1)},staticRenderFns:[]};var s=a("VU/8")({name:"App"},i,!1,function(e){a("rxgH"),a("7YQu")},null,null).exports,r=a("/ocq"),l=a("mtWM"),o=a.n(l),c=a("VB9a"),v=a.n(c),u=v.a.API_URL,d={user:{authenticated:!1},authenticate:function(e,t,a){var n=this;console.log(v.a.API_URL),o.a.post(u+"/api/v1/auth",t).then(function(t){var i=t.data;e.$cookie.set("token",i.token,"1D"),e.$cookie.set("emp_id",i.user.emp_id,"1D"),e.$cookie.set("username",i.user.username,"1D"),e.$cookie.set("role",i.user.role,"1D"),e.$cookie.set("id",i.user._id,"1D"),e.validLogin=!0,n.user.authenticated=!0,a&&ve.push(a)}).catch(function(t){var a=t.response.data;e.snackbar=!0,e.message=a.message})},signout:function(e,t){e.$cookie.delete("token"),this.user.authenticated=!1,t&&ve.push(t)},signup:function(e,t,a){var n=this;o.a.post(u+"/api/v1/signup",t).then(function(i){var s=i.data.token;e.$cookie.set("token",s,"1D"),e.validSignUp=!0,n.user.authenticated=!0,n.authenticate(e,t,a)}).catch(function(t){var a=t.response.data;e.snackbar=!0,e.message=a.message})},checkAuthentication:function(){var e=document.cookie;this.user.authenticated=!!e},getAuthenticationHeader:function(e){return"Bearer "+e.$cookie.get("token")}},m={data:function(){return{snackbar:!1,validLogin:!1,validSignUp:!1,signUpVisible:!1,loginPasswordVisible:!1,signUpPasswordVisible:!1,rules:[function(e){return!!e||"This field is required"}],credentials:{username:"",password:""},newUser:{username:"",password:"",emp_id:""},message:"",drawer:null}},props:{source:String},methods:{submitAuthentication:function(){d.authenticate(this,this.credentials,"/")},submitSignUp:function(){d.signup(this,this.newUser,"/")}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("v-app",{attrs:{id:"inspire"}},[a("v-content",[a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[0==e.signUpVisible?a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[e._v("Login form")]),e._v(" "),a("v-spacer")],1),e._v(" "),a("v-card-text",[a("v-form",{model:{value:e.validLogin,callback:function(t){e.validLogin=t},expression:"validLogin"}},[a("v-text-field",{attrs:{"prepend-icon":"account_box",rules:e.rules,required:"",required:"",name:"login",label:"Login",type:"text"},model:{value:e.credentials.username,callback:function(t){e.$set(e.credentials,"username",t)},expression:"credentials.username"}}),e._v(" "),a("v-text-field",{attrs:{"prepend-icon":"lock",rules:e.rules,"append-icon":e.loginPasswordVisible?"visibility":"visibility_off","append-icon-cb":function(){return e.loginPasswordVisible=!e.loginPasswordVisible},type:e.loginPasswordVisible?"text":"password",required:"",name:"password",label:"Password",id:"password",type:"password"},model:{value:e.credentials.password,callback:function(t){e.$set(e.credentials,"password",t)},expression:"credentials.password"}})],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(t){e.submitAuthentication()}}},[e._v("Login")])],1)],1):e._e(),e._v(" "),e.signUpVisible?a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[e._v("Sign Up form")]),e._v(" "),a("v-spacer")],1),e._v(" "),a("v-card-text",[a("v-form",{model:{value:e.validSignUp,callback:function(t){e.validSignUp=t},expression:"validSignUp"}},[a("v-text-field",{attrs:{label:"Username","prepend-icon":"account_box",rules:e.rules,required:""},model:{value:e.newUser.username,callback:function(t){e.$set(e.newUser,"username",t)},expression:"newUser.username"}}),e._v(" "),a("v-text-field",{attrs:{label:"Employe ID","prepend-icon":"account_box",rules:e.rules,required:""},model:{value:e.newUser.emp_id,callback:function(t){e.$set(e.newUser,"emp_id",t)},expression:"newUser.emp_id"}}),e._v(" "),a("v-text-field",{attrs:{label:"Password","prepend-icon":"lock",rules:e.rules,"append-icon":e.signUpPasswordVisible?"visibility":"visibility_off","append-icon-cb":function(){return e.signUpPasswordVisible=!e.signUpPasswordVisible},type:e.signUpPasswordVisible?"text":"password",required:""},model:{value:e.newUser.password,callback:function(t){e.$set(e.newUser,"password",t)},expression:"newUser.password"}})],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(t){e.signUpVisible=!1}}},[e._v("Login")]),e._v(" "),a("v-btn",{attrs:{block:"",color:"primary"},nativeOn:{click:function(t){e.submitSignUp()}}},[e._v("Sign Up")])],1)],1):e._e(),e._v(" "),a("v-snackbar",{attrs:{bottom:"bottom",color:"red lighten-1"},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n                  "+e._s(e.message)+"\n                  ")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]},h=a("VU/8")(m,p,!1,null,null,null).exports,_=a("PJh5"),f=a.n(_),g=v.a.API_URL,k={data:function(){return{validated:1,loginPage:!1,attendances:[],disableCheckout:!1,disableCheckin:!1,attendance_id:"",currentAttendance:{},date:"",menu:!1,currentDate:f()().format("MMMM Do YYYY")}},computed:{checkInTime:function(){return this.currentAttendance?f()(this.currentAttendance.in_time).format("h:mm:ss a"):""},checkoutTime:function(){return this.currentAttendance?f()(this.currentAttendance.out_time).format("h:mm:ss a"):""},hourWorked:function(){return this.currentAttendance?(f()(this.currentAttendance.out_time).diff(f()(this.currentAttendance.in_time),"minutes")/60).toFixed(2):""}},mounted:function(){this.checkAttendance()},methods:{getAllUsers:function(e){var t=this;o.a.get(g+"/api/v1/attendance",{headers:{Authorization:d.getAuthenticationHeader(this)}}).then(function(e){var a=e.data;return t.attendances=a})},markAttendance:function(e){var t=this;o.a.post(g+"/api/v1/attendance",{emp_id:this.$cookie.get("emp_id")},{headers:{Authorization:d.getAuthenticationHeader(this)}}).then(function(e){var a=e.data;return t.disableCheckin=!0,t.currentAttendance=a.attendance})},checkAttendance:function(e){var t=this;o.a.get(g+"/api/v1/attendance/check",{headers:{Authorization:d.getAuthenticationHeader(this)},params:{emp_id:this.$cookie.get("emp_id")}}).then(function(e){var a=e.data;a&&a.length>0&&(t.currentAttendance=a[0],console.log(t.currentAttendance),t.attendance_id=t.currentAttendance._id,t.disableCheckin=!!t.currentAttendance._id,t.disableCheckout=!!t.currentAttendance.out_time)})},checkout:function(e){var t=this;console.log(this.currentAttendance),o.a.put(g+"/api/v1/attendance/checkout",{emp_id:this.$cookie.get("emp_id"),attendance_id:this.currentAttendance._id},{headers:{Authorization:d.getAuthenticationHeader(this)}}).then(function(e){e.data;return t.disableCheckout=!0})}}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",[a("v-layout",[a("app-header"),e._v(" "),a("v-container",[a("v-list",{staticClass:"elevation-1 currentAttendance m-1"},[a("v-layout",{attrs:{row:"",wrap:"",header:""}},[a("v-flex",{attrs:{xs3:""}},[e._v("\n                 Date\n              ")]),e._v(" "),a("v-flex",{attrs:{xs3:""}},[e._v("\n                In Time\n              ")]),e._v(" "),a("v-flex",{attrs:{xs3:""}},[e._v("\n                Out time\n              ")]),e._v(" "),a("v-flex",{attrs:{xs3:""}},[e._v("\n                Hours Worked Today\n              ")])],1),e._v(" "),a("v-layout",{attrs:{row:"",wrap:"",content:""}},[a("v-flex",{attrs:{xs3:""}},[e._v("\n                "+e._s(e.currentDate)+"\n              ")]),e._v(" "),a("v-flex",{attrs:{xs3:"",wrap:""}},[a("div",{attrs:{wrap:""}},[e.disableCheckin?a("p",[e._v(e._s(e.checkInTime))]):a("v-btn",{attrs:{small:"",color:"green lighten-1 white--text",disabled:e.disableCheckin},on:{click:e.markAttendance}},[a("v-icon",{attrs:{left:"",dark:""}},[e._v("directions_run")]),e._v(" Check In")],1)],1)]),e._v(" "),a("v-flex",{attrs:{xs3:"",wrap:""}},[a("div",[e.disableCheckout?a("p",[e._v(" "+e._s(e.checkoutTime))]):a("v-btn",{attrs:{small:"",color:"green lighten-1 white--text",disabled:e.disableCheckout},on:{click:e.checkout}},[a("v-icon",{attrs:{left:"",dark:""}},[e._v("directions_run")]),e._v(" Check Out")],1)],1)]),e._v(" "),a("v-flex",{attrs:{xs3:""}},[e._v("\n              "+e._s(e.hourWorked)+"\n              ")])],1)],1),e._v(" "),a("app-summary",{attrs:{prop_emp_id:this.$cookie.get("emp_id")}})],1),e._v(" "),a("app-footer")],1)],1)},staticRenderFns:[]};var x,y=a("VU/8")(k,b,!1,function(e){a("+YBA")},null,null).exports,A=a("QSfm"),w=a.n(A),j=v.a.API_URL,D={props:["prop_emp_id"],data:function(){return{validated:0,attendanceList:[],loginPage:!1,attendances:[],date:f()().format("YYYY-MM"),menu:!1,checkin:null,checkinMenu:!1,checkout:null,checkoutMenu:!1,menu1:!1,modal:!1,dialog2:!1,checkinTime:null,checkoutTime:null,slectedForRegularize:{},pagination:{sortBy:"date"},headers:[{text:"EmpId",align:"left",sortable:!1,value:"name"},{text:"Date",value:"Date"},{text:"In Time",value:"inTime"},{text:"Out Time",value:"outTIme"},{text:"Status",value:"status"},{text:"Hours Worked Today",value:"HoursToday"},{text:"Regularization",value:"Regularization",align:"center",sortable:!1}]}},filters:{month:function(e){return e||""}},mounted:function(){this.getAllAttendance(),console.log(this.props)},methods:{getAllUsers:function(e){var t=this;o.a.get(j+"/api/v1/attendance",{headers:{Authorization:d.getAuthenticationHeader(this)}}).then(function(e){var a=e.data;return t.attendances=a})},regularizeDialog:function(e,t){this.dialog2=!0,this.slectedForRegularize.emp_id=e,this.slectedForRegularize.date=t},generateDateTime:function(e,t){var a=f()(t,"HH:mm"),n=f()(e);return n.set({hour:a.get("hour"),minute:a.get("minute"),second:a.get("second")}),n},regularize:function(){o.a.post(j+"/api/v1/attendance/regularize",{emp_id:this.slectedForRegularize.emp_id,date:this.slectedForRegularize.date,in_time:this.generateDateTime(this.slectedForRegularize.date,this.checkin),out_time:this.generateDateTime(this.slectedForRegularize.date,this.checkout)},{headers:{Authorization:d.getAuthenticationHeader(this)}}).then(function(e){var t=e.data;return console.log(t)})},getAllAttendance:function(e){var t=this;o.a.get(j+"/api/v1/attendance/employe",{headers:{Authorization:d.getAuthenticationHeader(this)},params:{emp_id:this.prop_emp_id,month:this.date}}).then(function(e){var a=e.data;return t.attendanceList=a,t.changeDateFormat(),t.attendanceList=t.calculateForMonth()})},toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.items.slice()},changeSort:function(e){this.pagination.sortBy===e?this.pagination.descending=!this.pagination.descending:(this.pagination.sortBy=e,this.pagination.descending=!1)},calculateForMonth:function(){var e=[],t=f()(this.date,"YYYY-MM");console.log("start"),console.log(t);for(var a=f()(t).add(1,"month");t.isBefore(a);t.add(1,"day")){for(var n=!1,i=0;i<this.attendanceList.length;i++){var s=this.attendanceList[i];if(t.isSame(f()(s.date).format("YYYY-MM-DD"),"day")){s.status="present",s.date=s.date,e.push(s),n=!0;break}}0==n&&e.push({date:f()(t),in_time:"Na",emp_id:this.prop_emp_id,out_time:"Na",duration:0,status:"absent"})}return e},changeDateFormat:function(){this.attendanceList instanceof Array&&this.attendanceList.forEach(function(e){e.in_time,e.out_time;var t=new w.a(e.date);e.date=f()(t.toDate()),e.in_time=f()(e.in_time),e.out_time?(e.out_time=f()(e.out_time),e.duration=(e.out_time.diff(e.in_time,"minutes")/60).toFixed(2),e.out_time=e.out_time.format("h:mm:ss a")):(e.out_time=0,e.duration=8),e.in_time=e.in_time.format("h:mm:ss a")})}}},z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("br"),e._v(" "),a("v-card",[a("v-container",{attrs:{fluid:"","grid-list-lg":""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs6:""}},[a("div",[a("v-menu",{ref:"menu",attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-right":40,"min-width":"290px","return-value":e.date},on:{"update:returnValue":function(t){e.date=t}},model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-text-field",{attrs:{slot:"activator",label:"Picker in menu","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),e._v(" "),a("v-date-picker",{attrs:{type:"month","no-title":"",scrollable:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v("Cancel")]),e._v(" "),a("v-btn",{attrs:{flat:"",color:"primary"},on:{click:function(t){e.$refs.menu.save(e.date)}}},[e._v("OK")])],1)],1)],1)]),e._v(" "),a("v-flex",{attrs:{xs6:""}},[a("v-btn",{attrs:{color:"success"},on:{click:e.getAllAttendance}},[e._v("Submit")])],1)],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.dialog2,callback:function(t){e.dialog2=t},expression:"dialog2"}},[a("v-card",[a("v-card-title",[e._v("\n               Regularize\n            ")]),e._v(" "),a("v-card-text",[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs11:"",sm5:""}},[a("v-menu",{ref:"checkin",attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-right":40,"max-width":"290px","min-width":"290px","return-value":e.checkin},on:{"update:returnValue":function(t){e.checkin=t}},model:{value:e.checkinMenu,callback:function(t){e.checkinMenu=t},expression:"checkinMenu"}},[a("v-text-field",{attrs:{slot:"activator",label:"Check in ","prepend-icon":"access_time",readonly:""},slot:"activator",model:{value:e.checkin,callback:function(t){e.checkin=t},expression:"checkin"}}),e._v(" "),a("v-time-picker",{on:{change:function(t){e.$refs.checkin.save(e.checkin)}},model:{value:e.checkin,callback:function(t){e.checkin=t},expression:"checkin"}})],1)],1),e._v(" "),a("v-flex",{attrs:{xs11:"",sm5:""}},[a("v-menu",{ref:"checkout",attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-right":40,"max-width":"290px","min-width":"290px","return-value":e.checkout},on:{"update:returnValue":function(t){e.checkout=t}},model:{value:e.checkoutMenu,callback:function(t){e.checkoutMenu=t},expression:"checkoutMenu"}},[a("v-text-field",{attrs:{slot:"activator",label:"Checkout","prepend-icon":"access_time",readonly:""},slot:"activator",model:{value:e.checkout,callback:function(t){e.checkout=t},expression:"checkout"}}),e._v(" "),a("v-time-picker",{on:{change:function(t){e.$refs.checkout.save(e.checkout)}},model:{value:e.checkout,callback:function(t){e.checkout=t},expression:"checkout"}})],1)],1)],1),e._v(" "),a("v-btn",{class:{"btn--disabled":!e.checkout||!e.checkin},attrs:{color:"primary"},on:{click:function(t){e.regularize()}}},[e._v("Regularize")])],1),e._v(" "),a("v-card-actions",[a("v-btn",{attrs:{color:"primary"},on:{click:function(t){t.stopPropagation(),e.dialog2=!1}}},[e._v("Close")])],1)],1)],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.attendanceList,pagination:e.pagination,"item-key":"name","rows-per-page-items":[15,31]},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",{staticClass:"row"},[a("td",[e._v(e._s(t.item.emp_id))]),e._v(" "),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.date.format("DD-MM-YYYY")))]),e._v(" "),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.in_time))]),e._v(" "),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.out_time))]),e._v(" "),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.status))]),e._v(" "),a("td",{staticClass:"text-xs-left"},[e._v(e._s(t.item.duration))]),e._v(" "),a("td",{staticClass:"text-xs-center"},[a("v-btn",{attrs:{color:"info"},nativeOn:{click:function(a){e.regularizeDialog(t.item.emp_id,t.item.date)}}},[e._v("Regularize")])],1)])]}}])})],1)},staticRenderFns:[]},U=a("VU/8")(D,z,!1,null,null,null).exports,L=v.a.API_URL,M={data:function(){return{validated:0,usersList:[],loginPage:!1,dialog2:!1,role:this.$cookie.get("role"),employe:{username:"",password:"",emp_id:"",email:"",_id:"",tel_no:"",role:"employe"},defaultSate:this.employe,pagination:{sortBy:"date"},headers:[{text:"Username",align:"left",sortable:!1,value:"username"},{text:"Email",align:"center",value:"Action"},{text:"Action",align:"center",value:"Action"},{text:"Action2",align:"center",value:"Action"}]}},mounted:function(){this.getAllUsers(),this.getAllRegularize()},methods:{getAllUsers:function(e){var t=this;o.a.get(L+"/api/v1/users/admin",{headers:{Authorization:d.getAuthenticationHeader(this)}}).then(function(e){var a=e.data;return t.usersList=a,t.handleUsers()})},getAllRegularize:function(e){o.a.get(L+"/api/v1/attendance/regularize",{headers:{Authorization:d.getAuthenticationHeader(this)}}).then(function(e){var t=e.data;return console.log(t)})},create:function(){this.dialog2=!0,this.employe={username:"",password:"",emp_id:"",email:"",_id:"",tel_no:"",role:"employe"}},editEmploye:function(e){delete e.password,this.dialog2=!0,this.employe=e},save:function(){var e=this;o.a.post(L+"/api/v1/signup",this.employe).then(function(t){t.data.token;e.getAllUsers()}).catch(function(e){e.response.data})},update:function(e){o.a.put(L+"/api/v1/user",this.employe,{headers:{Authorization:d.getAuthenticationHeader(this)}}).then(function(e){var t=e.data;return console.log(t)})},toggleAll:function(){this.selected.length?this.selected=[]:this.selected=this.items.slice()},handleUsers:function(){console.log(this.usersList)}}},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",[a("v-layout",[a("app-header"),e._v(" "),a("v-container",[a("h3",[e._v("Users")]),e._v(" "),a("v-dialog",{attrs:{fullscreen:"",transition:"dialog-bottom-transition",overlay:!1,scrollable:""},model:{value:e.dialog2,callback:function(t){e.dialog2=t},expression:"dialog2"}},[a("v-card",[a("v-toolbar",{attrs:{card:"",dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialog2=!1}}},[a("v-icon",[e._v("close")])],1),e._v(" "),a("v-toolbar-title",[e._v("Employe")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-toolbar-items",[e.employe._id?e._e():a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){e.save()}}},[e._v("Save")]),e._v(" "),e.employe._id?a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){e.update()}}},[e._v("Update")]):e._e()],1)],1),e._v(" "),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[e._v("User Controls")]),e._v(" "),a("v-divider"),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{label:"Employe Name "},model:{value:e.employe.name,callback:function(t){e.$set(e.employe,"name",t)},expression:"employe.name"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{label:"Employe Username "},model:{value:e.employe.username,callback:function(t){e.$set(e.employe,"username",t)},expression:"employe.username"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{label:"Employe Id "},model:{value:e.employe.emp_id,callback:function(t){e.$set(e.employe,"emp_id",t)},expression:"employe.emp_id"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{label:"Employe Email "},model:{value:e.employe.email,callback:function(t){e.$set(e.employe,"email",t)},expression:"employe.email"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{label:"contact No ",required:""},model:{value:e.employe.tel_no,callback:function(t){e.$set(e.employe,"tel_no",t)},expression:"employe.tel_no"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{label:"New Password",required:""},model:{value:e.employe.password,callback:function(t){e.$set(e.employe,"password",t)},expression:"employe.password"}})],1)],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[e._v("Role")]),e._v(" "),a("v-radio-group",{model:{value:e.employe.role,callback:function(t){e.$set(e.employe,"role",t)},expression:"employe.role"}},[a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-action",[a("v-radio",{attrs:{name:"emp",value:"employe"}})],1),e._v(" "),a("v-list-tile-content",{attrs:{for:"emp"}},[a("v-list-tile-title",[e._v("Employe")]),e._v(" "),a("v-list-tile-sub-title",[e._v("Can add there attendance and apply leave")])],1)],1),e._v(" "),"admin"==e.role?a("div",[a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-action",[a("v-radio",{attrs:{value:"manager"}})],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v("Manager")]),e._v(" "),a("v-list-tile-sub-title",[e._v("Has ability to manage the team ")])],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-action",[a("v-radio",{attrs:{value:"admin"}})],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v("Admin")]),e._v(" "),a("v-list-tile-sub-title",[e._v("Can add Manager")])],1)],1)],1):e._e()],1)],1)],1)],1),e._v(" "),a("v-btn",{attrs:{color:"primary",fab:"",dark:""},on:{click:function(t){e.create()}}},[a("v-icon",{attrs:{dark:""}},[e._v("group_add")])],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.usersList,pagination:e.pagination,"item-key":"name"},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.username))]),e._v(" "),a("td",[e._v(e._s(t.item.email))]),e._v(" "),a("td",{staticClass:"text-xs-center"},[a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"attendance/"+t.item.emp_id}},[a("v-btn",{attrs:{small:"",color:"green lighten-1 white--text"}},[a("v-icon",{attrs:{small:"",left:""}},[e._v("chrome_reader_mode")]),e._v(" Attendance\n              ")],1)],1)],1),e._v(" "),a("td",{staticClass:"text-xs-center"},[a("v-btn",{attrs:{small:"",color:"green lighten-1 white--text"},on:{click:function(a){e.editEmploye(t.item)}}},[a("v-icon",{attrs:{small:"",left:""}},[e._v("edit")]),e._v(" Edit\n            ")],1)],1)]}}])})],1),e._v(" "),a("app-footer")],1)],1)},staticRenderFns:[]},$=a("VU/8")(M,C,!1,null,null,null).exports,E=v.a.API_URL,R={data:function(){return{user:{username:this.$cookie.get("username"),password:"",emp_id:""}}},props:{source:String},methods:{update:function(e){o.a.put(E+"/api/v1/user",{id:this.$cookie.get("id"),username:this.user.username,password:this.user.password},{headers:{Authorization:d.getAuthenticationHeader(this)}}).then(function(e){var t=e.data;return console.log(t)})},submitAuthentication:function(){d.authenticate(this,this.credentials,"/")},submitSignUp:function(){d.signup(this,this.newUser,"/")}}},P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",[a("v-layout",[a("app-header"),e._v(" "),a("v-container",{attrs:{"grid-list":""}},[a("v-card",[a("v-card-title",{attrs:{"primary-title":""}},[a("div",[a("h3",{staticClass:"headline mb-0"},[e._v("User Details")])])]),e._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-text-field",{attrs:{label:"username"},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),e._v(" "),a("v-text-field",{attrs:{label:"password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),e._v(" "),a("v-btn",{attrs:{color:"success"},on:{click:e.update}},[e._v("update")])],1)],1)],1),e._v(" "),a("app-footer")],1)],1)},staticRenderFns:[]},H=a("VU/8")(R,P,!1,null,null,null).exports,T=a("1Jhz"),V=a("bOdI"),S=a.n(V),F=v.a.API_URL,Y={data:function(){return{approvalList:[],loginPage:!1,leaves:[],pagination:{sortBy:"date"},headers:[{text:"Username",align:"left",sortable:!1,value:"username"},{text:"Date",align:"left",sortable:!1,value:"date"},{text:"Action",align:"center",value:"Action"}]}},mounted:function(){this.getAllRegularize(),this.getAllLeave()},methods:(x={getAllRegularize:function(e){var t=this;o.a.get(F+"/api/v1/attendance/regularize",{headers:{Authorization:d.getAuthenticationHeader(this)}}).then(function(e){var a=e.data;return t.approvalList=a})},getAllLeave:function(e){var t=this;o.a.get(F+"/api/v1/attendance/leave",{headers:{Authorization:d.getAuthenticationHeader(this)}}).then(function(e){var a=e.data;return t.leaves=a})},format:function(e){var t=new w.a(e);return f()(t.toDate()).format("YYYY-MM-DD")},markAttendance:function(e,t,a,n){var i=this,s=new w.a(t).toDate();o.a.post(F+"/api/v1/attendance",{emp_id:e,date:s,in_time:a,out_time:n},{headers:{Authorization:d.getAuthenticationHeader(this)}}).then(function(e){var t=e.data;return i.disableCheckin=!0,i.currentAttendance=t.attendance})}},S()(x,"format",function(e){var t=new w.a(e);return f()(t.toDate()).format("YYYY-MM-DD")}),S()(x,"toggleAll",function(){this.selected.length?this.selected=[]:this.selected=this.items.slice()}),S()(x,"handleUsers",function(){console.log(this.usersList)}),x)},q={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",[a("v-layout",[a("app-header"),e._v(" "),a("v-container",[a("h3",[e._v("Admin Approal")]),e._v(" "),a("v-tabs",{attrs:{"slider-color":"yellow"},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[a("v-tab",{key:"Regularize",attrs:{ripple:""}},[e._v("\n          Regularize\n        ")]),e._v(" "),a("v-tab",{key:"Leaves",attrs:{ripple:""}},[e._v("\n          leave\n        ")]),e._v(" "),a("v-tab-item",{key:"Regularize"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.approvalList,pagination:e.pagination,"item-key":"name"},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.emp_id))]),e._v(" "),a("td",[e._v(e._s(e.format(t.item.date)))]),e._v(" "),a("td",{staticClass:"text-xs-center"},[a("v-btn",{attrs:{color:"green lighten-1 white--text"},on:{click:function(a){e.markAttendance(t.item.emp_id,t.item.date,t.item.checkin,t.item.checkout)}}},[e._v("\n                  Aprove\n                ")])],1)]}}])})],1),e._v(" "),a("v-tab-item",{key:"Leaves"},[a("v-list",{attrs:{"two-line":""}},[a("v-subheader",[e._v("leaves")]),e._v(" "),e._l(e.leaves,function(t,n){return[a("v-list-tile",{key:t.username},[a("v-list-tile-avatar",[a("span",{staticClass:" headline"},[e._v(e._s(t.username.charAt(0).toUpperCase()))])]),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v(" "+e._s(t.username)+" ")]),e._v(" "),a("v-list-tile-sub-title",[e._v("Leave from "+e._s(e.format(t.start_date))+" to "+e._s(e.format(t.end_date)))]),e._v(" "),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(t.desc)}})],1),e._v(" "),a("v-list-tile-action",[a("v-btn",{on:{click:function(e){}}},[e._v("Edit")])],1)],1),e._v(" "),n+1<e.leaves.length?a("v-divider",{key:n}):e._e()]})],2)],1)],1)],1),e._v(" "),a("app-footer")],1)],1)},staticRenderFns:[]},O=a("VU/8")(Y,q,!1,null,null,null).exports,I=v.a.API_URL,N={data:function(){return{teamDialog:!1,team:{name:null,members:[]},user:{username:this.$cookie.get("username"),password:"",emp_id:""},usersList:[],usersListMap:{},teams:[]}},mounted:function(){this.getAllUsers(),this.getAllTeams(),this.getAllTeamsMember()},methods:{create:function(){var e=this;this.team.manager_id=this.$cookie.get("id"),o.a.post(I+"/api/v1/manage/team",this.team,{headers:{Authorization:d.getAuthenticationHeader(this)}}).then(function(t){var a=t.data;return e.teams.push(a.team),e.teamDialog=!1})},getAllUsers:function(e){var t=this;o.a.get(I+"/api/v1/users/admin",{headers:{Authorization:d.getAuthenticationHeader(this)}}).then(function(e){var a=e.data;return t.usersList=a,a.forEach(function(e){t.usersListMap[e._id]=e})})},test:function(e){console.log(e)},editTeam:function(e){this.team=e,this.teamDialog=!0},openDialog:function(){this.teamDialog=!0,this.team={name:null,members:[]}},getAllTeamsMember:function(e){o.a.get(I+"/api/v1/manage/team/members",{headers:{Authorization:d.getAuthenticationHeader(this)},params:{manager_id:this.$cookie.get("id")}}).then(function(e){var t=e.data;return console.log(t)})},getAllTeams:function(e){var t=this;o.a.get(I+"/api/v1/manage/team",{headers:{Authorization:d.getAuthenticationHeader(this)},params:{manager_id:this.$cookie.get("id")}}).then(function(e){var a=e.data;return t.teams=a})}}},B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",[a("v-layout",[a("app-header"),e._v(" "),a("v-container",[a("v-dialog",{attrs:{fullscreen:"",transition:"dialog-bottom-transition",overlay:!1,scrollable:""},model:{value:e.teamDialog,callback:function(t){e.teamDialog=t},expression:"teamDialog"}},[a("v-card",[a("v-toolbar",{attrs:{card:"",dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.teamDialog=!1}}},[a("v-icon",[e._v("close")])],1),e._v(" "),a("v-toolbar-title",[e._v("Team")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){e.create()}}},[e._v("Save")]),e._v(" "),a("v-btn",{attrs:{dark:"",flat:""}},[e._v("Update")])],1)],1),e._v(" "),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[e._v("Team Controls")]),e._v(" "),a("v-divider"),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{label:"Team Name"},model:{value:e.team.name,callback:function(t){e.$set(e.team,"name",t)},expression:"team.name"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{label:"Team Desc"},model:{value:e.team.desc,callback:function(t){e.$set(e.team,"desc",t)},expression:"team.desc"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-flex",{attrs:{xs12:""}},[a("v-select",{attrs:{label:"Select",items:e.usersList,"item-text":"username","item-value":"_id",multiple:"",chips:"","max-height":"300",autocomplete:""},scopedSlots:e._u([{key:"selection",fn:function(t){return[a("v-chip",{key:JSON.stringify(t.item),staticClass:"chip--select-multi",attrs:{close:"",selected:t.selected},on:{input:function(e){t.parent.selectItem(t.item)}}},[a("v-avatar",{staticClass:"teal"},[a("span",{staticClass:"white--text"},[e._v(" "+e._s(t.item.username.charAt(0).toUpperCase()))])]),e._v("\n                        "+e._s(t.item.username)+"\n                      ")],1)]}},{key:"item",fn:function(t){return["object"!=typeof t.item?[a("v-list-tile-content",{domProps:{textContent:e._s(t.item)}})]:[a("v-list-tile-avatar",{staticClass:"dropdown_avatar"},[a("span",{staticClass:"white--text"},[e._v(" "+e._s(t.item.username.charAt(0).toUpperCase()))])]),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:e._s(t.item.username)}}),e._v(" "),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(t.item.username)}})],1)]]}}]),model:{value:e.team.members,callback:function(t){e.$set(e.team,"members",t)},expression:"team.members"}})],1)],1)],1)],1),e._v(" "),a("v-list",{attrs:{"two-line":""}},[a("v-subheader",[e._v("Teams")]),e._v(" "),e._l(e.team.members,function(t,n){return[a("v-divider",{key:n,attrs:{inset:!0}}),e._v(" "),a("v-list-tile",{key:t,attrs:{avatar:""},on:{click:function(e){}}},[a("v-list-tile-avatar",[a("span",{staticClass:"red--text"},[e._v(" "+e._s(e.usersListMap[t].username.charAt(0)))])]),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:e._s(e.usersListMap[t].username)}}),e._v(" "),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(e.usersListMap[t].username)}})],1)],1)]})],2)],1)],1),e._v(" "),a("v-btn",{attrs:{color:"primary",fab:"",dark:""},nativeOn:{click:function(t){e.openDialog(t)}}},[a("v-icon",{attrs:{dark:""}},[e._v("group_add")])],1),e._v(" "),a("v-list",{attrs:{"two-line":""}},[a("v-subheader",[e._v("Teams")]),e._v(" "),e._l(e.teams,function(t,n){return[a("v-divider",{key:n,attrs:{inset:!0}}),e._v(" "),a("v-list-tile",{key:t.name,attrs:{avatar:""}},[a("v-list-tile-avatar",[a("span",{staticClass:"red--text"},[e._v(" "+e._s(t.name.charAt(0)))])]),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:e._s(t.name)}}),e._v(" "),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(t.name)}})],1),e._v(" "),a("v-list-tile-action",[a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"teamInfo/"+t._id}},[a("v-btn",[e._v("View")])],1)],1),e._v(" "),a("v-list-tile-action",[a("v-btn",{on:{click:function(a){e.editTeam(t)}}},[e._v("Edit")])],1),e._v(" "),a("v-list-tile-action",[a("v-btn",{on:{click:function(a){e.editTeam(t)}}},[e._v("Delete")])],1)],1)]})],2)],1),e._v(" "),a("app-footer")],1)],1)},staticRenderFns:[]};var W,X=a("VU/8")(N,B,!1,function(e){a("vZM8")},null,null).exports,J=v.a.API_URL,K={data:function(){return{validated:1,usersList:[],dialog2:!1,role:this.$cookie.get("role"),loginPage:this.$route.params,employe:{username:"",password:"",emp_id:"",email:"",_id:"",tel_no:"",role:"employe"},headers:[{text:"Username",align:"left",sortable:!1,value:"username"},{text:"Email",align:"center",value:"Action"},{text:"Action",align:"center",value:"Action"},{text:"Action2",align:"center",value:"Action"}]}},mounted:function(){this.getAllUsers()},methods:{editEmploye:function(e){delete e.password,this.dialog2=!0,this.employe=e},update:function(e){o.a.put(J+"/api/v1/user",this.employe,{headers:{Authorization:d.getAuthenticationHeader(this)}}).then(function(e){var t=e.data;return console.log(t)})},getAllUsers:function(e){var t=this;o.a.get(J+"/api/v1/manage/team/members",{headers:{Authorization:d.getAuthenticationHeader(this)},params:{team_id:this.$route.params.teamId}}).then(function(e){var a=e.data;return t.usersList=a})}}},Z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",[a("v-layout",[a("app-header"),e._v(" "),a("v-container",[a("v-dialog",{attrs:{fullscreen:"",transition:"dialog-bottom-transition",overlay:!1,scrollable:""},model:{value:e.dialog2,callback:function(t){e.dialog2=t},expression:"dialog2"}},[a("v-card",[a("v-toolbar",{attrs:{card:"",dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialog2=!1}}},[a("v-icon",[e._v("close")])],1),e._v(" "),a("v-toolbar-title",[e._v("Employe")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-toolbar-items",[e.employe._id?e._e():a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){e.save()}}},[e._v("Save")]),e._v(" "),e.employe._id?a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(t){e.update()}}},[e._v("Update")]):e._e()],1)],1),e._v(" "),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[e._v("User Controls")]),e._v(" "),a("v-divider"),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{label:"Employe Name "},model:{value:e.employe.name,callback:function(t){e.$set(e.employe,"name",t)},expression:"employe.name"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{label:"Employe Username "},model:{value:e.employe.username,callback:function(t){e.$set(e.employe,"username",t)},expression:"employe.username"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{label:"Employe Id "},model:{value:e.employe.emp_id,callback:function(t){e.$set(e.employe,"emp_id",t)},expression:"employe.emp_id"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{label:"Employe Email "},model:{value:e.employe.email,callback:function(t){e.$set(e.employe,"email",t)},expression:"employe.email"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{label:"contact No ",required:""},model:{value:e.employe.tel_no,callback:function(t){e.$set(e.employe,"tel_no",t)},expression:"employe.tel_no"}})],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("v-text-field",{attrs:{label:"New Password",required:""},model:{value:e.employe.password,callback:function(t){e.$set(e.employe,"password",t)},expression:"employe.password"}})],1)],1)],1),e._v(" "),a("v-divider"),e._v(" "),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[e._v("Role")]),e._v(" "),a("v-radio-group",{model:{value:e.employe.role,callback:function(t){e.$set(e.employe,"role",t)},expression:"employe.role"}},[a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-action",[a("v-radio",{attrs:{name:"emp",value:"employe"}})],1),e._v(" "),a("v-list-tile-content",{attrs:{for:"emp"}},[a("v-list-tile-title",[e._v("Employe")]),e._v(" "),a("v-list-tile-sub-title",[e._v("Can add there attendance and apply leave")])],1)],1),e._v(" "),"admin"==e.role?a("div",[a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-action",[a("v-radio",{attrs:{value:"manager"}})],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v("Manager")]),e._v(" "),a("v-list-tile-sub-title",[e._v("Has ability to manage the team ")])],1)],1),e._v(" "),a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-action",[a("v-radio",{attrs:{value:"admin"}})],1),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v("Admin")]),e._v(" "),a("v-list-tile-sub-title",[e._v("Can add Manager")])],1)],1)],1):e._e()],1)],1)],1)],1),e._v(" "),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.usersList,"item-key":"name"},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",[e._v(e._s(t.item.username))]),e._v(" "),a("td",[e._v(e._s(t.item.email))]),e._v(" "),a("td",{staticClass:"text-xs-center"},[a("router-link",{staticStyle:{"text-decoration":"none"},attrs:{to:"../attendance/"+t.item.emp_id}},[a("v-btn",{attrs:{small:"",color:"green lighten-1 white--text"}},[a("v-icon",{attrs:{small:"",left:""}},[e._v("chrome_reader_mode")]),e._v(" Attendance\n                  ")],1)],1)],1),e._v(" "),a("td",{staticClass:"text-xs-center"},[a("v-btn",{attrs:{small:"",color:"green lighten-1 white--text"},on:{click:function(a){e.editEmploye(t.item)}}},[a("v-icon",{attrs:{small:"",left:""}},[e._v("edit")]),e._v(" Edit\n                ")],1)],1)]}}])})],1),e._v(" "),a("app-footer")],1)],1)},staticRenderFns:[]},Q=a("VU/8")(K,Z,!1,null,null,null).exports,G=v.a.API_URL,ee={data:function(){var e=this;return{valid:!0,leaves:[],empId:this.$cookie.get("id"),startDateMenu:!1,leave:{emp_id:this.$cookie.get("id")},startDate:null,endDateMenu:!1,endDate:null,loginPage:!1,leavesAvailable:0,endDateRule:[function(e){return!!e||"Name is required"},function(t){return t&&f()(e.leave.endDate).isSameOrAfter(f()(e.leave.startDate))||"End Date must be greater than Start Date"},function(t){return t&&e.verifyEndDate()||"no leavs availabe"}],pagination:{sortBy:"date"},headers:[{text:"Username",align:"left",sortable:!1,value:"username"},{text:"Date",align:"left",sortable:!1,value:"date"},{text:"Action",align:"center",value:"Action"}]}},mounted:function(){this.getAllLeave(),this.getEmpDetails()},methods:(W={getAllLeave:function(e){var t=this;o.a.get(G+"/api/v1/attendance/leave",{headers:{Authorization:d.getAuthenticationHeader(this)}}).then(function(e){var a=e.data;return t.leaves=a})},verifyEndDate:function(){return f()(this.leave.endDate).diff(f()(this.leave.startDate),"days")+1<this.leavesAvailable},getEmpDetails:function(e){var t=this;o.a.get(G+"/api/v1/users/admin",{headers:{Authorization:d.getAuthenticationHeader(this)},params:{_id:this.empId}}).then(function(e){var a=e.data;return console.log(a[0].leaves.privilege),t.leavesAvailable=a[0].leaves.privilege})},format:function(e){var t=new w.a(e);return f()(t.toDate()).format("YYYY-MM-DD")},applyLeave:function(){var e=this;o.a.post(G+"/api/v1/attendance/leave",this.leave,{headers:{Authorization:d.getAuthenticationHeader(this)}}).then(function(t){var a=t.data;return e.disableCheckin=!0,e.currentAttendance=a.attendance})}},S()(W,"format",function(e){var t=new w.a(e);return f()(t.toDate()).format("MMMM Do YYYY")}),S()(W,"toggleAll",function(){this.selected.length?this.selected=[]:this.selected=this.items.slice()}),S()(W,"handleUsers",function(){console.log(this.usersList)}),W)},te={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",[a("v-layout",[a("app-header"),e._v(" "),a("v-container",[a("h3",[e._v("Admin Approal")]),e._v(" "),a("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:"",sm5:"",md5:""}},[a("v-menu",{ref:"startDateMenu",attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-right":40,"min-width":"290px","return-value":e.leave.startDate},on:{"update:returnValue":function(t){e.$set(e.leave,"startDate",t)}},model:{value:e.startDateMenu,callback:function(t){e.startDateMenu=t},expression:"startDateMenu"}},[a("v-text-field",{attrs:{slot:"activator",label:"Start Date","prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.leave.startDate,callback:function(t){e.$set(e.leave,"startDate",t)},expression:"leave.startDate"}}),e._v(" "),a("v-date-picker",{on:{input:function(t){e.$refs.startDateMenu.save(e.leave.startDate)}},model:{value:e.leave.startDate,callback:function(t){e.$set(e.leave,"startDate",t)},expression:"leave.startDate"}})],1)],1),e._v(" "),a("v-flex",{attrs:{"d-flex":"",xs12:"",sm5:"",md5:""}},[a("v-menu",{ref:"endDateMenu",attrs:{lazy:"","close-on-content-click":!1,transition:"scale-transition","offset-y":"","full-width":"","nudge-right":40,"min-width":"290px","return-value":e.endDate},on:{"update:returnValue":function(t){e.endDate=t}},model:{value:e.endDateMenu,callback:function(t){e.endDateMenu=t},expression:"endDateMenu"}},[a("v-text-field",{attrs:{slot:"activator",label:"End Date",rules:e.endDateRule,"prepend-icon":"event",readonly:""},slot:"activator",model:{value:e.leave.endDate,callback:function(t){e.$set(e.leave,"endDate",t)},expression:"leave.endDate"}}),e._v(" "),a("v-date-picker",{on:{input:function(t){e.$refs.endDateMenu.save(e.leave.endDate)}},model:{value:e.leave.endDate,callback:function(t){e.$set(e.leave,"endDate",t)},expression:"leave.endDate"}})],1)],1)],1),e._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:"",sm6:"",md5:""}},[a("v-text-field",{attrs:{label:"Reason","prepend-icon":"event","multi-line":!0,rue:"","row-height":5,"no-resize":!0,rue:"",rows:"2"},model:{value:e.leave.desc,callback:function(t){e.$set(e.leave,"desc",t)},expression:"leave.desc"}})],1)],1)],1),e._v(" "),a("v-btn",{attrs:{color:"green lighten-1 white--text",disabled:!e.valid},on:{click:e.applyLeave}},[a("v-icon",{attrs:{left:"",dark:""}},[e._v("directions_run")]),e._v(" Check Out")],1),e._v(" "),a("v-list",{attrs:{"two-line":""}},[a("v-subheader",[e._v("leaves")]),e._v(" "),e._l(e.leaves,function(t,n){return[a("v-list-tile",{key:t.username},[a("v-list-tile-avatar",[a("span",{staticClass:" headline"},[e._v(e._s(t.username.charAt(0).toUpperCase()))])]),e._v(" "),a("v-list-tile-content",[a("v-list-tile-title",[e._v(" "+e._s(t.username)+" ")]),e._v(" "),a("v-list-tile-sub-title",[e._v("Leave from "+e._s(e.format(t.start_date))+" to "+e._s(e.format(t.end_date)))]),e._v(" "),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(t.desc)}})],1),e._v(" "),a("v-list-tile-action",[a("v-btn",{on:{click:function(e){}}},[e._v("Edit")])],1)],1),e._v(" "),n+1<e.leaves.length?a("v-divider",{key:n}):e._e()]})],2)],1)],1),e._v(" "),a("app-footer")],1)],1)},staticRenderFns:[]},ae=a("VU/8")(ee,te,!1,null,null,null).exports,ne={data:function(){return{search:"",status:"",drawer:null,role:this.$cookie.get("role")}},methods:{submitSignout:function(){d.signout(this,"/login")}},props:{source:String}},ie={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("header",{staticClass:"l-header-container"},[a("v-navigation-drawer",{attrs:{fixed:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[a("v-list-tile",{on:{click:function(e){}}},[a("v-list-tile-action",[a("v-icon",[e._v("home")])],1),e._v(" "),a("v-list-tile-content",[a("router-link",{attrs:{to:"/"}},[a("v-list-tile-title",[e._v("Home")])],1)],1)],1),e._v(" "),a("v-list-tile",{on:{click:function(e){}}},[a("v-list-tile-action",[a("v-icon",[e._v("home")])],1),e._v(" "),a("v-list-tile-content",[a("router-link",{attrs:{to:"/leave"}},[a("v-list-tile-title",[e._v("Leave")])],1)],1)],1),e._v(" "),a("v-list-tile",{on:{click:function(e){}}},[a("v-list-tile-action",[a("v-icon",[e._v("contact_mail")])],1),e._v(" "),a("v-list-tile-content",[a("router-link",{attrs:{to:"/edit"}},[a("v-list-tile-title",[e._v("Edit ")])],1)],1)],1),e._v(" "),"admin"==e.role||"manager"==e.role?a("v-list-tile",{on:{click:function(e){}}},[a("v-list-tile-action",[a("v-icon",[e._v("contact_mail")])],1),e._v(" "),a("v-list-tile-content",[a("router-link",{attrs:{to:"/approvals"}},[a("v-list-tile-title",[e._v("approvals ")])],1)],1)],1):e._e(),e._v(" "),"admin"==e.role||"manager"==e.role?a("v-list-tile",{on:{click:function(e){}}},[a("v-list-tile-action",[a("v-icon",[e._v("contact_mail")])],1),e._v(" "),a("v-list-tile-content",[a("router-link",{attrs:{to:"/teams"}},[a("v-list-tile-title",[e._v("Teams")])],1)],1)],1):e._e(),e._v(" "),"admin"==e.role||"manager"==e.role?a("v-list-tile",{on:{click:function(e){}}},[a("v-list-tile-action",[a("v-icon",[e._v("contact_mail")])],1),e._v(" "),a("v-list-tile-content",[a("router-link",{attrs:{to:"/adminView"}},[a("v-list-tile-title",[e._v("AdminView")])],1)],1)],1):e._e()],1)],1),e._v(" "),a("v-toolbar",{attrs:{color:"indigo",dark:"",fixed:"",app:""}},[a("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),e._v(" "),a("v-toolbar-title",[e._v("Application")]),e._v(" "),a("v-spacer"),e._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{icon:"",large:""},nativeOn:{click:function(t){e.submitSignout()}}},[a("v-icon",[e._v("exit_to_app")])],1)],1)],1)],1)},staticRenderFns:[]};var se=a("VU/8")(ne,ie,!1,function(e){a("llsY")},null,null).exports,re={data:function(){return{search:"",status:""}},methods:{submitSignout:function(){d.signout(this,"/login")}}},le={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-footer",{attrs:{color:"indigo",app:""}},[t("span",{staticClass:"white--text"},[this._v("© 2018")])])},staticRenderFns:[]};var oe=a("VU/8")(re,le,!1,function(e){a("q8cZ")},null,null).exports;n.a.component("app-header",se),n.a.component("app-footer",oe),n.a.component("app-summary",U),n.a.use(r.a);var ce=new r.a({routes:[{path:"/",name:"Home",components:{default:y,header:se,summary:U,footer:oe},meta:{requiredAuth:!0}},{path:"/login",name:"Authentication",component:h},{path:"/attendance/:id",name:"Attendance",components:{default:T.default,header:se,summary:U,footer:oe},meta:{requiredAuth:!0}},{path:"/summary",name:"Summary",components:{default:U,header:se,footer:oe},meta:{requiredAuth:!0}},{path:"/adminView",name:"AdminView",components:{default:$,header:se,foter:oe},meta:{requiredAuth:!0}},{path:"/edit",name:"Edit",components:{default:H,header:se,foter:oe},meta:{requiredAuth:!0}},{path:"/approvals",name:"Apprvals",components:{default:O,header:se,foter:oe},meta:{requiredAuth:!0}},{path:"/teams",name:"Teams",components:{default:X,header:se,foter:oe},meta:{requiredAuth:!0}},{path:"/teamInfo/:teamId",name:"TeamInfo",components:{default:Q,header:se,foter:oe},meta:{requiredAuth:!0}},{path:"/leave",name:"Leave",components:{default:ae,header:se,foter:oe},meta:{requiredAuth:!0}}]});ce.beforeEach(function(e,t,a){console.log(d.user),e.meta.requiredAuth?d.user.authenticated?a():ce.push("/login"):a()});var ve=ce,ue=a("K/Lq"),de=a.n(ue),me=a("3EgV"),pe=a.n(me);a("7zck"),a("IHMs");n.a.use(de.a),n.a.use(pe.a),n.a.config.productionTip=!1,d.checkAuthentication(),new n.a({el:"#app",router:ve,components:{App:s},template:"<App/>"})},VB9a:function(e,t){e.exports={API_URL:"https://attendance-manager-api.herokuapp.com"}},llsY:function(e,t){},q8cZ:function(e,t){},rnCt:function(e,t,a){"use strict";var n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-content",[t("v-layout",[t("app-header"),this._v(" "),t("v-container",[t("app-summary",{attrs:{prop_emp_id:this.$route.params.id}})],1),this._v(" "),t("app-footer")],1)],1)},staticRenderFns:[]};t.a=n},rxgH:function(e,t){},uslO:function(e,t,a){var n={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function i(e){return a(s(e))}function s(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}i.keys=function(){return Object.keys(n)},i.resolve=s,e.exports=i,i.id="uslO"},vZM8:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.c011a6f44ebd6e04a9e3.js.map